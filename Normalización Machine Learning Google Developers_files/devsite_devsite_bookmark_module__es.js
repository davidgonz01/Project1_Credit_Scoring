(function(_ds){var window=this;var vS=function(){return(0,_ds.T)('<input type="checkbox" class="bookmark-checkbox">')},wS=function(a){let b='<devsite-dropdown-list ellipsis checkboxes fetchingitems="true"';a.Lq&&(b=b+' writable addItemText="'+_ds.SE("Nueva colecci\u00f3n"),b+='"');return(0,_ds.T)(b+'><span class="material-icons bookmark-icon" slot="toggle">bookmark_border</span></devsite-dropdown-list>')},xS=function(a){const b=a.isSignedIn;a=a.kb;let c='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-dialog"><div class="devsite-dialog-contents">';
a&&(c+='<h3 class="no-link">',c=(b?c+"Crea un perfil de desarrollador de Google para a\u00f1adir un marcador":c+"Inicia sesi\u00f3n para a\u00f1adir un marcador")+"</h3>");c+="<p>";c=(b?a?c+"Guarda las p\u00e1ginas que visitas con m\u00e1s frecuencia con un perfil de desarrollador de Google.":c+'Esta cuenta no cumple los requisitos para crear perfiles de desarrollador. <a href="https://developers.google.com/profile/help#i%E2%80%99m_unable_to_create_a_profile_with_my_g_suite_account_why_is_that" target="_blank">M\u00e1s informaci\u00f3n</a>':
c+"Debes iniciar sesi\u00f3n para guardar las p\u00e1ginas que visitas con m\u00e1s frecuencia con un perfil de desarrollador de Google.")+"</p>";b&&a&&(c+="<p>Crea tu perfil de desarrollador de Google.",c+="</p>");c+='</div><div class="devsite-dialog-buttons">';c=(b?a?c+'<button class="button-primary create-profile">Crear perfil':c+'<button class="button-primary change-account">Cambiar de cuenta':c+'<button class="button button-primary sign-in-button">Iniciar sesi\u00f3n')+'</button><button class="button devsite-dialog-close">Ignorar';
return(0,_ds.T)(c+"</button></div></devsite-dialog>")},yS=function(a){var b=a.jb;a='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-create-profile-dialog"><div class="create-profile-spinner"><devsite-spinner size="48"></devsite-spinner></div><div class="devsite-dialog-contents"><h3 class="no-link">\u00bfTe gustar\u00eda recibir correos sobre las funciones, los eventos, las insignias, el contenido y las oportunidades de investigaci\u00f3n m\u00e1s recientes?</h3><input type="checkbox" id="devsite-bookmark-create-profile-email-opt-in"><label for="devsite-bookmark-create-profile-email-opt-in">Quiero suscribirme a los correos de Google Developers.</label><p class="account-note">';
b='Al crear un perfil de desarrollador, debes aceptar la <a href="'+(_ds.Y(_ds.Z(b))+'">Pol\u00edtica de Contenido</a>. El uso que hagas de este servicio est\u00e1 sujeto tanto a los <a href="https://policies.google.com/terms">T\u00e9rminos del Servicio</a> como a la <a href="https://policies.google.com/privacy">Pol\u00edtica de Privacidad</a> de Google. El nombre que figura en tu cuenta de Google y los intereses que has seleccionado se usar\u00e1n en tu perfil de desarrollador de Google. Tu nombre puede aparecer en los proyectos en los que contribuyas, y puedes cambiarlo en cualquier momento.');
a=a+b+'</p></div><div class="devsite-dialog-buttons"><button class="button-primary create-profile">Crear perfil';a+='</button><button class="button devsite-dialog-close">';a+="Ignorar";a+="</button></div></devsite-dialog>";return(0,_ds.T)(a)},zS=function(a){a='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-error-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">Se ha producido un error</h3><p>'+(_ds.U(a.error)+'</p></div><div class="devsite-dialog-buttons"><button class="button devsite-dialog-close">');
return(0,_ds.T)(a+"Ignorar</button></div></devsite-dialog>")};var AS=function(a){const b=document.body.querySelector(".devsite-page-title,.devsite-playlist-title,.devsite-quiz-title,[layout=docs] .devsite-article h1:first-of-type");let c;const d=null==(c=a.parentElement)?void 0:c.matches("devsite-feature-tooltip");if(!b){if(d){let e;null==(e=a.parentElement)||e.remove()}else a.remove();return!0}if(d){let e;if((null==(e=a.parentElement)?void 0:e.previousElementSibling)!==b){let f;null==(f=b.parentElement)||f.insertBefore(a.parentElement,b.nextSibling);return!0}}else if(a.previousElementSibling!==
b){let e;null==(e=b.parentElement)||e.insertBefore(a,b.nextSibling);return!0}return!1},CS=async function(a){a.H=document.body.querySelector(".devsite-article");var b;null==(b=a.H)||b.setAttribute("has-bookmark","");b=await BS();a.classList.add("show");let c;(null==(c=a.parentElement)?0:c.matches("devsite-feature-tooltip"))&&a.parentElement.classList.add("inline-block");b?(_ds.M(a,wS,{Lq:a.path?!1:!0}),a.h=a.querySelector("devsite-dropdown-list"),a.h&&(a.h.addItemDisabledTooltipText=_ds.ZI)):(a.classList.add("devsite-legacy-bookmark"),
_ds.M(a,vS),a.F=a.querySelector(".bookmark-checkbox"))},JS=async function(a){await BS()?(a.eventHandler.listen(a,"DropdownToggled",b=>{let c;(null==(c=b.ma)?void 0:c.detail).open&&DS(a)}),a.eventHandler.listen(a,"DropdownAddItem",b=>{a.Wj(b)}),a.eventHandler.listen(a,"DropdownItemToggled",b=>{ES(a,b)}),a.eventHandler.listen(document.querySelector("devsite-collection-list")||document.body,["devsite-collection-created","devsite-collection-deleted"],b=>{b=b.ma;if("devsite-collection-created"===b.type){b=
b.detail;b=FS(a,{description:b.description,isEmailAlertsEnabled:b.isEmailAlertsEnabled,name:b.name,title:b.title});let c;null==(c=a.h)||c.listItems.splice(1,0,b);GS(a)}else a.h&&HS(a,b.detail)})):a.eventHandler.listen(a,"change",()=>{IS(a)})},MS=async function(a){var b=new URL(_ds.F().href);if(b.searchParams.get("bookmark")){var c=await BS(),d=await _ds.DI(_ds.EI);d&&(c?await KS(a,`profiles/${d}/collections/default`,!0):await IS(a));b.searchParams.delete("bookmark");_ds.zj(b.toString(),!0,!1)}if(await (await _ds.v()).isSignedIn()&&
(c=await a.Z(),null!=c&&c.profileId)){b=a.path||"";if(!b)try{b=await _ds.Po(_ds.F().href)}catch(e){}c=(null==c?void 0:c.profileId)||"";d=new _ds.iq;try{const e=await d.getPath({path:b,profileId:c});if(null==e?0:e.collections)a.j=new Set([...e.collections,...a.j]);"SAVED"===(null==e?void 0:e.saveStatus)&&a.setAttribute("saved","")}catch(e){}await BS()&&await LS(a)}},NS=async function(a){if(await BS()){var b,c=null==(b=a.h)?void 0:b.querySelector(".bookmark-icon");c&&(0<a.j.size?(c.innerText="bookmark",
c.classList.add("toggled")):(c.innerText="bookmark_border",c.classList.remove("toggled")))}else a.F&&(b=(a.F.checked=a.v)?"Quitar marcador":"A\u00f1adir marcador",a.setAttribute("data-title",b),null==(c=a.F)||c.setAttribute("aria-label",b))},BS=async function(){return(await _ds.v()).hasMendelFlagAccess("Profiles","enable_profile_collections")},DS=async function(a){var b=await (await _ds.v()).isSignedIn();let c=!0;b&&(c=await a.kb());if(c){const e=await BS(),f=await a.Z();if(f){e||await OS(a,f);return}}b&&
c&&PS(a,"Callout Profile intro");let d=document.body.querySelector("#devsite-bookmark-dialog");d||(d=_ds.N(xS,{isSignedIn:b,kb:c}),document.body.appendChild(d),(b=d.querySelector(".create-profile"))&&a.eventHandler.listen(b,"click",async()=>{let e;null==(e=d)||e.removeAttribute("open");a.C=await QS(a);a.C.setAttribute("open","")}),(b=d.querySelector(".sign-in-button"))&&a.eventHandler.listen(b,"click",async e=>{e.preventDefault();e.stopPropagation();e=new _ds.$i(_ds.F().href);e.h.add("bookmark",!0);
_ds.zj(e.toString(),!0,!1);await (await _ds.v()).signIn()}),(b=d.querySelector(".change-account"))&&a.eventHandler.listen(b,"click",async e=>{e.preventDefault();e.stopPropagation();e=new _ds.$i(_ds.F().href);e.h.add("bookmark",!0);_ds.zj(e.toString(),!0,!1);await (await _ds.v()).changeAccount()}),(b=d.querySelector(".devsite-dialog-close"))&&a.eventHandler.listen(b,"click",()=>{a.toggleAttribute("saved");PS(a,"Callout Profile dismissed")}));a.G=d;d.setAttribute("open","");a.h&&(a.h.displayPopout=
!1)},ES=async function(a,b){let c;b=null==(c=b.ma)?void 0:c.detail;await KS(a,(null==b?void 0:b.value)||"",b.checked)},HS=function(a,b){a.h&&(a.h.listItems=a.h.listItems.filter(c=>c.id!==b.name),a.j.delete(b.name),GS(a))},IS=async function(a){a.toggleAttribute("saved");if(a.v){const b=await _ds.Io("/saved-pages",void 0,void 0,!1,!0);RS(a,"P\u00e1gina guardada.","Ver p\u00e1ginas guardadas",b)}else RS(a,"P\u00e1gina no guardada.");a.path||await DS(a)},RS=function(a,b,c,d){a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",
{detail:{msg:b,linkText:c,href:null==d?void 0:d.href,showClose:!1},bubbles:!0,composed:!0}))},OS=async function(a,b){if(null==b||!b.profileId)return null;var c=await BS();const d=c?0<a.j.size:a.v;let e;e=d?"SAVED":"UNSAVED";let f=a.path||"";if(!f)try{f=await _ds.Po(_ds.F().href)}catch(l){}const g=new _ds.iq;let h=null;const k=[];c?k.push(...a.j):d&&k.push(`profiles/${null==b?void 0:b.profileId}/collections/default`);try{h=await g.Ff({path:f,status:e,profileId:b.profileId,collections:k})}catch(l){a.D=
SS(a,"No se ha podido guardar la p\u00e1gina."),a.D.setAttribute("open",""),a.toggleAttribute("saved")}c||(TS(a),c=document.querySelector("devsite-user#devsite-user"),b=await _ds.Io("/saved-pages",null==b?void 0:b.profileId,null==b?void 0:b.vanityId,!1,!0),a.v&&!window.sessionStorage.getItem("devsite_bookmark_popout_shown")&&(await (null==c?void 0:c.showPopout("view-bookmarked-pages",b)),window.sessionStorage.setItem("devsite_bookmark_popout_shown","true")));return h},PS=function(a,b,c){b=Object.assign({},
{category:"Site-Wide Custom Events",action:b,label:"Saving Widget Callout"},c||{});a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:b,bubbles:!0}))},QS=async function(a){PS(a,"Callout Profile displayed");var b=document.body.querySelector("#devsite-bookmark-create-profile-dialog");if(!b){b=(await _ds.Go()).href;b=_ds.N(yS,{jb:b});document.body.appendChild(b);var c=b.querySelector(".create-profile");c&&a.eventHandler.listen(c,"click",()=>{a.createProfile()});(c=b.querySelector(".devsite-dialog-close"))&&
a.eventHandler.listen(c,"click",()=>{a.toggleAttribute("saved");PS(a,"Callout Profile dismissed")})}return b},SS=function(a,b){PS(a,"Callout Profile error",{label:"Saving Widget Callout Error"});a=document.body.querySelector("#devsite-bookmark-error-dialog");a||(a=_ds.N(zS,{error:b}),document.body.appendChild(a));return a},TS=function(a){a.ra({category:"Site-Wide Custom Events",action:a.v?"Saving Page to Profile":"Removing Saved Page from Profile",label:"Saving Widget"})},KS=async function(a,b,c){var d=
await a.Z();if(d){c?a.j.add(b):a.j.delete(b);await NS(a);var e=await BS(),f=a.v;a.v=e?0<a.j.size:!0;f!==a.v&&TS(a);await OS(a,d);a.ra({category:"Site-Wide Custom Events",action:c?"Saving Page to Collection":"Removing Saved Page from Collection",label:"Saving Widget"});var g;if(d=null==(g=a.h)?void 0:g.listItems.find(h=>h.id===b))d.checked=c;if(c){let h;await (null==(h=document.querySelector("#devsite-view-saved-pages"))?void 0:h.showPopout())}a.dispatchEvent(new CustomEvent(c?"devsite-bookmarked-path":
"devsite-unbookmarked-path",{bubbles:!0,composed:!0,detail:{collectionName:b}}))}},LS=async function(a){if(a.h){a.h.fetchingItems=!0;var b=await _ds.FI();a.h.fetchingItems=!1;b&&(b=b.map(c=>FS(a,c)),b.sort((c,d)=>{let e;if(null==(e=c.id)?0:e.endsWith("default"))return-1;let f;return(null==(f=d.id)?0:f.endsWith("default"))?1:c.updatedDate>d.updatedDate?-1:1}),a.h.listItems=b,GS(a))}},FS=function(a,b){let c,d,e;return{id:null!=(c=b.name)?c:"",title:null!=(d=b.title)?d:"",updatedDate:null!=(e=b.updateTime)?
e:"",checked:!(!b.name||!a.j.has(b.name))}},GS=function(a){a.h&&(a.h.addItemDisabled=20<=a.h.listItems.length)},US=class extends _ds.E{constructor(){super(["devsite-snackbar","devsite-dialog"]);this.eventHandler=new _ds.G;this.D=this.C=this.G=this.F=this.H=null;this.v=!1;this.h=null;this.j=new Set;this.path=null}static get observedAttributes(){return["saved"]}async connectedCallback(){if(this.getAttribute("path"))this.path=this.getAttribute("path");else if(AS(this))return;await CS(this);await JS(this);
await MS(this);await NS(this)}disconnectedCallback(){_ds.H(this.eventHandler);_ds.ti(this.G);_ds.ti(this.C);_ds.ti(this.D);this.F=null;let a;null==(a=this.H)||a.removeAttribute("has-bookmark")}attributeChangedCallback(a,b,c){"saved"===a&&(this.v=null!==c,NS(this))}async createProfile(){var a=await _ds.xG.getName();if(a){var b,c=null==(b=this.C)?void 0:b.querySelector("#devsite-bookmark-create-profile-email-opt-in");b=!(!c||!c.checked);var d;null==(d=this.C)||d.classList.add("loading");c=new _ds.R;
d=null;try{await _ds.Jy(c,a,b,!0);let f;null==(f=this.C)||f.removeAttribute("open");d=await this.Z();a=null;d&&(await BS()||(a=await OS(this,d)));PS(this,"Callout Profile created",a&&"SAVED"===a.saveStatus?{pz:"1",hm:a.type||"UNDEFINED_TYPE"}:void 0)}catch(f){let g;null==(g=this.C)||g.removeAttribute("open");this.D=SS(this,`${f}`);this.D.setAttribute("open","");this.toggleAttribute("saved")}var e;null==(e=this.C)||e.classList.remove("loading")}else null==(c=this.C)||c.removeAttribute("open"),this.D=
SS(this,"No se ha podido obtener la informaci\u00f3n de tu cuenta."),this.D.setAttribute("open",""),this.toggleAttribute("saved")}async kb(){if(!await (await _ds.v()).isSignedIn())return!1;const a=new _ds.zy;let b=null;try{b=await a.cb()}catch(e){}let c,d;return"ELIGIBILITY_ELIGIBLE"===(null==(c=b)?void 0:null==(d=c.createProfile)?void 0:d.status)}async Z(){if(!await this.kb())return null;const a=new _ds.R;let b=null;try{b=await a.Z()}catch(c){}return b}async Wj(a){var b;a={title:(null==(b=a.ma)?
void 0:b.detail).title,isEmailAlertsEnabled:!1};this.h&&(this.h.fetchingItems=!0);try{var c=await _ds.HI(a)}catch(f){}this.h&&(this.h.fetchingItems=!1);if(c){b=(new _ds.vz("Se ha creado la colecci\u00f3n {COLLECTION_TITLE}.")).format({COLLECTION_TITLE:c.title});RS(this,b);this.ra({xa:"profile: saved pages",action:"collection created",label:window.location.href});c=FS(this,c);var d;null==(d=this.h)||d.listItems.push(c);var e;null==(e=this.h)||_ds.Sx(e);GS(this)}else RS(this,"Algo ha fallado. No se ha creado la colecci\u00f3n.")}};try{window.customElements.define("devsite-bookmark",US)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteBookmark",a)};})(_ds_www);
